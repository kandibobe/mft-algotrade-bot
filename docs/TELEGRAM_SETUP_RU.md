# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ù–∞—Å—Ç—Ä–æ–π–∫–µ Telegram –ë–æ—Ç–∞
# ======================================

## üìã –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Telegram –±–æ—Ç?

Telegram –±–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–¥–µ–ª–∫–∞—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª—è—Ç—å –±–æ—Ç–æ–º —É–¥–∞–ª—ë–Ω–Ω–æ (—Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø/—Å—Ç–∞—Ç—É—Å)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –±–∞–ª–∞–Ω—Å –∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å –∞–ª–µ—Ä—Ç—ã –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- ‚úÖ –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ (panic button)

---

## ü§ñ –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Telegram –ë–æ—Ç–∞

### 1.1 –ù–∞–π–¥–∏—Ç–µ BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞: **@BotFather**
3. –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: https://t.me/botfather

### 1.2 –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```
/newbot
```

BotFather —Å–ø—Ä–æ—Å–∏—Ç:

**–í–æ–ø—Ä–æ—Å 1: "Alright, a new bot. How are we going to call it?"**
```
–û—Ç–≤–µ—Ç: Stoic Citadel Trading Bot
(–ò–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –≤–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è)
```

**–í–æ–ø—Ä–æ—Å 2: "Good. Now let's choose a username for your bot."**
```
–û—Ç–≤–µ—Ç: StoicCitadel_bot
(–î–æ–ª–∂–Ω–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ _bot –∏ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º)
```

### 1.3 –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω

BotFather –æ—Ç–≤–µ—Ç–∏—Ç:
```
Done! Congratulations on your new bot.
You will find it at t.me/StoicCitadel_bot

Use this token to access the HTTP API:
123456789:ABCdefGHIjklMNOpqrsTUVwxyz1234567

For a description of the Bot API, see this page:
https://core.telegram.org/bots/api
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω!** –≠—Ç–æ –≤–∞—à `TELEGRAM_TOKEN`.

–ü—Ä–∏–º–µ—Ä:
```
TELEGRAM_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz1234567
```

---

## üÜî –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID

### –ú–µ—Ç–æ–¥ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @userinfobot (–ü—Ä–æ—â–µ)

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞: **@userinfobot**
2. –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ: https://t.me/userinfobot
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
4. –ë–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞—à–∏–º Chat ID:
   ```
   Id: 123456789
   ```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ —á–∏—Å–ª–æ:
```
TELEGRAM_CHAT_ID=123456789
```

### –ú–µ—Ç–æ–¥ 2: –ß–µ—Ä–µ–∑ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

1. –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ–º—É –±–æ—Ç—É (–∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–∑–¥–∞–ª–∏ –≤ –®–∞–≥–µ 1)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä: `/start`
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–∑–∞–º–µ–Ω–∏—Ç–µ TOKEN –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω):
   ```
   https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
   ```

   –ù–∞–ø—Ä–∏–º–µ—Ä:
   ```
   https://api.telegram.org/bot123456789:ABCdefGHIjklMNOpqrsTUVwxyz/getUpdates
   ```

4. –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ –≤–∞—à Chat ID:
   ```json
   {
     "ok": true,
     "result": [
       {
         "update_id": 123456789,
         "message": {
           "message_id": 1,
           "from": {
             "id": 987654321,  ‚Üê –≠—Ç–æ –≤–∞—à Chat ID
             "first_name": "–í–∞—à–µ –ò–º—è"
           }
         }
       }
     ]
   }
   ```

---

## üìù –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ –≤ .env —Ñ–∞–π–ª

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª
nano .env

# –î–æ–±–∞–≤—å—Ç–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è):
TELEGRAM_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz1234567
TELEGRAM_CHAT_ID=987654321
```

**–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä .env:**
```env
# Telegram Bot Configuration
TELEGRAM_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz1234567
TELEGRAM_CHAT_ID=987654321

# Binance API (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
BINANCE_API_KEY=–≤–∞—à_binance_api_key
BINANCE_API_SECRET=–≤–∞—à_binance_secret

# Freqtrade API
FREQTRADE_API_USERNAME=stoic_admin
FREQTRADE_API_PASSWORD=StoicGuard2024!ChangeMe
```

---

## ‚öôÔ∏è –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ config_production.json

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```bash
nano user_data/config/config_production.json
```

–ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é `telegram` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:

```json
{
  "telegram": {
    "enabled": true,
    "token": "${TELEGRAM_TOKEN}",
    "chat_id": "${TELEGRAM_CHAT_ID}",
    "allow_custom_messages": true,
    "notification_settings": {
      "status": "on",
      "warning": "on",
      "startup": "on",
      "entry": "on",
      "entry_cancel": "on",
      "entry_fill": "on",
      "exit": {
        "roi": "on",
        "emergency_exit": "on",
        "force_exit": "on",
        "exit_signal": "on",
        "trailing_stop_loss": "on",
        "stop_loss": "on",
        "stoploss_on_exchange": "on",
        "custom_exit": "on"
      },
      "exit_cancel": "on",
      "exit_fill": "on",
      "protection_trigger": "on",
      "protection_trigger_global": "on"
    },
    "reload": true,
    "balance_dust_level": 0.01
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `enabled` | –í–∫–ª—é—á–∏—Ç—å Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (true/false) |
| `token` | –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ |
| `chat_id` | –í–∞—à Chat ID |
| `status` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –±–æ—Ç–∞ |
| `entry` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—Ö–æ–¥–µ –≤ —Å–¥–µ–ª–∫—É |
| `exit` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã—Ö–æ–¥–µ –∏–∑ —Å–¥–µ–ª–∫–∏ |
| `stop_loss` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–æ–ø-–ª–æ—Å—Å–µ |
| `roi` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–∑—è—Ç–∏–∏ –ø—Ä–∏–±—ã–ª–∏ |

---

## üß™ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ú–µ—Ç–æ–¥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
python3 scripts/validate_config.py
```

### –ú–µ—Ç–æ–¥ 2: –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –≤ dry-run —Ä–µ–∂–∏–º–µ
./scripts/citadel.sh trade

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
./scripts/citadel.sh logs freqtrade
```

**–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫:**
```
INFO - Telegram is enabled and configured correctly.
INFO - Telegram bot started successfully
```

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
```
ERROR - Invalid Telegram token
ERROR - Could not connect to Telegram
```

### –ú–µ—Ç–æ–¥ 3: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

```bash
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ curl
curl -X POST "https://api.telegram.org/bot<YOUR_TOKEN>/sendMessage" \
  -d "chat_id=<YOUR_CHAT_ID>" \
  -d "text=‚úÖ Stoic Citadel Test Message"
```

–ó–∞–º–µ–Ω–∏—Ç–µ:
- `<YOUR_TOKEN>` –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω
- `<YOUR_CHAT_ID>` –Ω–∞ –≤–∞—à chat ID

**–ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ:** –í—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram.

---

## üí¨ –®–∞–≥ 6: –ö–æ–º–∞–Ω–¥—ã Telegram –ë–æ—Ç–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Freqtrade, –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –±–æ—Ç–æ–º —á–µ—Ä–µ–∑ Telegram:

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–º–æ—â—å |
| `/status` | –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ |
| `/profit` | –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ |
| `/balance` | –ü–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å –Ω–∞ –±–∏—Ä–∂–µ |
| `/daily` | –î–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| `/weekly` | –ù–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| `/monthly` | –ú–µ—Å—è—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| `/count` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ |
| `/performance` | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –ø–∞—Ä–∞–º |
| `/help` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã |

### –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/stop` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é (—Ç–æ–ª—å–∫–æ –≤—ã—Ö–æ–¥ –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π) |
| `/reload_config` | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é |
| `/show_config` | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é |
| `/stopbuy` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏–π |
| `/forceexit <pair>` | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é |
| `/forceexit all` | –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ (–ø–∞–Ω–∏–∫–∞!) |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```
/status
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  –ü–∞—Ä–∞: BTC/USDT
  –ü—Ä–∏–±—ã–ª—å: +2.3%
  –í—Ä–µ–º—è –≤ —Å–¥–µ–ª–∫–µ: 1h 23m

/profit
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  –°–µ–≥–æ–¥–Ω—è: +15.50 USDT
  –≠—Ç–∞ –Ω–µ–¥–µ–ª—è: +127.30 USDT
  –í—Å–µ–≥–æ: +1,234.56 USDT

/forceexit BTC/USDT
‚Üí –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø–æ BTC/USDT –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
```

---

## üîî –ü—Ä–∏–º–µ—Ä—ã –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –í—Ö–æ–¥ –≤ —Å–¥–µ–ª–∫—É:
```
üöÄ –í–•–û–î –í –°–î–ï–õ–ö–£

–ü–∞—Ä–∞: BTC/USDT
–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 45,123.45 USDT
–†–∞–∑–º–µ—Ä: 0.05 BTC
–°—Ç—Ä–∞—Ç–µ–≥–∏—è: StoicStrategyV1
–ü—Ä–∏—á–∏–Ω–∞: RSI oversold + trend confirmation
```

### –í—ã—Ö–æ–¥ –∏–∑ —Å–¥–µ–ª–∫–∏:
```
üí∞ –í–´–•–û–î –ò–ó –°–î–ï–õ–ö–ò

–ü–∞—Ä–∞: BTC/USDT
–¶–µ–Ω–∞ –≤—ã—Ö–æ–¥–∞: 46,234.56 USDT
–ü—Ä–∏–±—ã–ª—å: +2.46% (+55.60 USDT)
–ü—Ä–∏—á–∏–Ω–∞: ROI target reached
–í—Ä–µ–º—è –≤ —Å–¥–µ–ª–∫–µ: 2h 15m
```

### –°—Ç–æ–ø-–ª–æ—Å—Å:
```
üõë –°–¢–û–ü-–õ–û–°–° –°–†–ê–ë–û–¢–ê–õ

–ü–∞—Ä–∞: ETH/USDT
–¶–µ–Ω–∞ –≤—ã—Ö–æ–¥–∞: 2,345.67 USDT
–£–±—ã—Ç–æ–∫: -5.00% (-25.30 USDT)
–ü—Ä–∏—á–∏–Ω–∞: Hard stop loss
–í—Ä–µ–º—è –≤ —Å–¥–µ–ª–∫–µ: 45m
```

---

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Invalid token"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ERROR - Invalid Telegram token
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –≤ .env
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é (—Å —Ü–∏—Ñ—Ä–∞–º–∏ –∏ –ø–æ—Å–ª–µ –¥–≤–æ–µ—Ç–æ—á–∏—è)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
echo $TELEGRAM_TOKEN

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 123456789:ABCdefGHIjklMNO...
# –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: " 123456789:ABCdefGHIjklMNO ..." (–ø—Ä–æ–±–µ–ª—ã)
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Unauthorized"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ERROR - 401 Unauthorized
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ `/start` –≤–∞—à–µ–º—É –±–æ—Ç—É
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Chat ID (—ç—Ç–æ –í–ê–®–ò —Ü–∏—Ñ—Ä—ã, –Ω–µ —á—É–∂–∏–µ)
3. –ë–æ—Ç –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —Ç–µ–º, –∫—Ç–æ –Ω–∞–∂–∞–ª `/start`

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ `/status`, –Ω–æ –æ—Ç–≤–µ—Ç–∞ –Ω–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Freqtrade –∑–∞–ø—É—â–µ–Ω:
   ```bash
   docker ps | grep freqtrade
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   ./scripts/citadel.sh logs freqtrade | grep -i telegram
   ```

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `enabled: true` –≤ config:
   ```bash
   cat user_data/config/config_production.json | grep -A 5 telegram
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Connection timeout"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ERROR - Connection to Telegram timed out
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ª–∏ firewall Telegram API
3. Telegram –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Telegram –ë–æ—Ç–∞

### ‚ùå –ù–ï –î–ï–õ–ê–ô–¢–ï

1. **–ù–ï –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞**
   - –ù–µ –≤—ã–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–æ–º
   - –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å —Ç–æ–∫–µ–Ω–æ–º –≤ —á–∞—Ç–∞—Ö

2. **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –±–æ—Ç –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª—é–¥–µ–π**
   - –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–æ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–π–¥–µ—Ä–∞

3. **–ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ –ª–æ–≥–∞—Ö**
   - –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à –±–æ—Ç

### ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –î–ï–õ–ê–ô–¢–ï

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Chat ID**
   ```json
   "chat_id": "123456789"  // –¢–æ–ª—å–∫–æ –í–ê–® Chat ID
   ```

2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –≤–∞—à–µ–º—É Chat ID**
   - Freqtrade –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Chat ID
   - –¢–æ–ª—å–∫–æ –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –±–æ—Ç–æ–º

3. **–û—Ç–∑–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω, –µ—Å–ª–∏ –æ–Ω —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω**
   - –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/revoke`
   - –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
   - –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω

4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏**
   ```bash
   ./scripts/citadel.sh logs | grep "Unauthorized"
   ```
   - –ï—Å–ª–∏ –µ—Å—Ç—å Unauthorized –∑–∞–ø—Ä–æ—Å—ã - –∫—Ç–æ-—Ç–æ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à –±–æ—Ç

---

## üìä –ö–∞—Å—Ç–æ–º–Ω—ã–µ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–∑ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

```python
# –í –≤–∞—à–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (StoicStrategyV1.py)
def custom_exit(self, pair, trade, current_time, current_rate, current_profit, **kwargs):
    if current_profit > 0.10:  # 10% –ø—Ä–∏–±—ã–ª–∏
        # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        self.dp.send_msg(f"üéâ –ë–û–õ–¨–®–ê–Ø –ü–†–ò–ë–´–õ–¨ –Ω–∞ {pair}: {current_profit:.2%}")
        return "big_profit_exit"
    return None
```

---

## üéì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –ì—Ä—É–ø–ø—ã Telegram (–¥–ª—è –∫–æ–º–∞–Ω–¥—ã)

–ï—Å–ª–∏ —Ç–æ—Ä–≥—É–µ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ:

1. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
3. –°–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
4. –ü–æ–ª—É—á–∏—Ç–µ Group Chat ID:
   ```
   https://api.telegram.org/bot<TOKEN>/getUpdates
   ```
   - Group Chat ID –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `-` (–º–∏–Ω—É—Å)
   - –ù–∞–ø—Ä–∏–º–µ—Ä: `-123456789`

5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Group Chat ID –≤ –∫–æ–Ω—Ñ–∏–≥–µ:
   ```env
   TELEGRAM_CHAT_ID=-123456789
   ```

### –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ª—é–¥—è–º:

```json
{
  "telegram": {
    "chat_id": "123456789,987654321,-111222333"
  }
}
```

–†–∞–∑–¥–µ–ª–∏—Ç–µ Chat ID –∑–∞–ø—è—Ç—ã–º–∏.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Freqtrade Telegram:**
https://www.freqtrade.io/en/stable/telegram-usage/

**Telegram Bot API:**
https://core.telegram.org/bots/api

**BotFather:**
https://t.me/botfather

---

**–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑ - –ø–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞!** üîî

Telegram –±–æ—Ç - —ç—Ç–æ –≤–∞—à —É–¥–∞–ª—ë–Ω–Ω—ã–π –ø—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤–ª–µ–π. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∏ –≤—ã –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≤ –∫—É—Ä—Å–µ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ.
