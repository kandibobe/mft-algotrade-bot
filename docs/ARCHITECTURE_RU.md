# üèóÔ∏è Stoic Citadel: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ Stoic Citadel, —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –≥–∏–±—Ä–∏–¥–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

## 1. –§–∏–ª–æ—Å–æ—Ñ–∏—è –ì–∏–±—Ä–∏–¥–Ω–æ–≥–æ –†–∞–∑–¥–µ–ª–µ–Ω–∏—è (Decoupled Execution)

Stoic Citadel –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–µ **–†–∞–∑–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ò—Å–ø–æ–ª–Ω–µ–Ω–∏—è (Decoupled Execution)**. –ú—ã –æ—Ç–¥–µ–ª—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π (–ú–∞–∫—Ä–æ-—É—Ä–æ–≤–µ–Ω—å) –æ—Ç –ª–æ–≥–∏–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤ (–ú–∏–∫—Ä–æ-—É—Ä–æ–≤–µ–Ω—å), —á—Ç–æ–±—ã –¥–æ—Å—Ç–∏—á—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏.

### –ú–∞–∫—Ä–æ-—É—Ä–æ–≤–µ–Ω—å (–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç)
*   **–†–æ–ª—å:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –∞–ª—å—Ñ—ã, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è.
*   **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** –°—Ç—Ä–∞—Ç–µ–≥–∏—è Freqtrade, –ú–µ—Ç–∞-–æ–±—É—á–µ–Ω–∏–µ (Ensemble), –ê–ª–ª–æ–∫–∞—Ç–æ—Ä HRP.
*   **–î–∞–Ω–Ω—ã–µ:** –°–≤–µ—á–∏ OHLCV (5m, 1h), –•—Ä–∞–Ω–∏–ª–∏—â–µ –ü—Ä–∏–∑–Ω–∞–∫–æ–≤ (Feature Store - Redis/Parquet).
*   **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (–ó–∞–¥–µ—Ä–∂–∫–∞):** –°–µ–∫—É–Ω–¥—ã (–ë–ª–æ–∫–∏—Ä—É—é—â–∏–π/–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥).

### –ú–∏–∫—Ä–æ-—É—Ä–æ–≤–µ–Ω—å (–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
*   **–†–æ–ª—å:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (slippage) –∏ –∑–∞—â–∏—Ç–Ω—ã–µ —à–ª—é–∑—ã.
*   **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** Websocket –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä, Smart Order Executor, Circuit Breakers (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏).
*   **–î–∞–Ω–Ω—ã–µ:** –°—Ç–∞–∫–∞–Ω L2 (Orderbook), –¢–∏–∫–∏, –°–¥–µ–ª–∫–∏.
*   **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (–ó–∞–¥–µ—Ä–∂–∫–∞):** <100–º—Å (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π/–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –∫–æ–¥).

---

## 2. –ì–∏–±—Ä–∏–¥–Ω—ã–π –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä (The Hybrid Connector)

–ú–æ–¥—É–ª—å `src/strategies/hybrid_connector.py` –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ –º–æ—Å—Ç–∞ –º–µ–∂–¥—É –¥–≤—É–º—è —É—Ä–æ–≤–Ω—è–º–∏. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ú–∞–∫—Ä–æ-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –ø–æ–∑–≤–æ–ª—è—è:
1.  –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (—Å–ø—Ä–µ–¥, –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å).
2.  –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –ú–∏–∫—Ä–æ-—É—Ä–æ–≤–µ–Ω—å.
3.  –ü–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –æ—Ç—á–µ—Ç—ã –æ–± –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏.

---

## 3. –î–≤–∏–∂–æ–∫ –ò—Å–ø–æ–ª–Ω–µ–Ω–∏—è –û—Ä–¥–µ—Ä–æ–≤ (Order Execution Engine)

–ù–∞—à `SmartOrderExecutor` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è:

### –õ–æ–≥–∏–∫–∞ ChaseLimit
–í–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤, `ChaseLimit` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —Ü–µ–Ω—É –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª—É—á—à–∏—Ö —Ü–µ–Ω bid/ask –∏ –≥–ª—É–±–∏–Ω—ã —Å—Ç–∞–∫–∞–Ω–∞. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (fill rate) –±–µ–∑ —É–ø–ª–∞—Ç—ã —Å–ø—Ä–µ–¥–∞, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ–≥–æ –¥–ª—è —Ä—ã–Ω–æ—á–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤.

### –†–∞–∑–±–∏–µ–Ω–∏–µ TWAP/VWAP
–ö—Ä—É–ø–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ —á–∞—Å—Ç–∏ (Child Orders) –∏ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –ø–æ –æ–±—ä–µ–º—É, —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä—ã–Ω–æ–∫ –∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —Å–∫—Ä—ã—Ç—É—é –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å.

---

## 4. –Ø–¥—Ä–æ –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ö–∞–∂–¥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ–±—è–∑–∞–Ω–∞ –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ **–®–ª—é–∑ –†–∏—Å–∫–∞ (Risk Gate)** (`src/risk/risk_manager.py`):

*   **Circuit Breakers (–ê–≤—Ç–æ-–≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏):** –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –æ–±—â–µ—Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–ø—Ä–æ—Å–∞–¥–∫–∞, –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏, –∑–¥–æ—Ä–æ–≤—å–µ API).
*   **–î–µ-—Ä–∏—Å–∫–∏–Ω–≥ –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —á—Ä–µ–∑–º–µ—Ä–Ω—É—é –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é –≤ —Å–∏–ª—å–Ω–æ –∫–æ—Ä—Ä–µ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –º–æ–¥—É–ª—å HRP.
*   **–†–∞–∑–º–µ—Ä –ü–æ–∑–∏—Ü–∏–∏:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (–ö—Ä–∏—Ç–µ—Ä–∏–π –ö–µ–ª–ª–∏ –∏–ª–∏ –≤–µ—Å–∞ HRP).

---

## 5. MLOps –∏ –ò–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ –ü—Ä–∏–∑–Ω–∞–∫–æ–≤

ML-–ø–∞–π–ø–ª–∞–π–Ω —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞:

*   **Feature Store:** –ï–¥–∏–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –∏ real-time –ø—Ä–∏–∑–Ω–∞–∫–∞–º.
*   **Meta-Learning:** –í—Ç–æ—Ä–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π, –ø–æ–∑–≤–æ–ª—è—è —Å–∏—Å—Ç–µ–º–µ —Å–Ω–∏–∂–∞—Ç—å —Ä–∏—Å–∫–∏ –≤ "–Ω–µ–Ω–∞–¥–µ–∂–Ω—ã—Ö" —Ä—ã–Ω–æ—á–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö.
*   **Time-Series CV:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö (data leakage) –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (out-of-sample).

---

## 6. –î–∏–∞–≥—Ä–∞–º–º–∞ –ü–æ—Ç–æ–∫–æ–≤ –î–∞–Ω–Ω—ã—Ö

```mermaid
sequenceDiagram
    participant E as –ë–∏—Ä–∂–∞ (Exchange)
    participant WS as WS –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä
    participant MC as –ú–∞–∫—Ä–æ –°—Ç—Ä–∞—Ç–µ–≥–∏—è
    participant HC as –ì–∏–±—Ä–∏–¥–Ω—ã–π –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä
    participant SOE as Smart Order Executor

    E->>WS: –î–∞–Ω–Ω—ã–µ —Å—Ç–∞–∫–∞–Ω–∞ L2
    WS->>HC: –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    MC->>HC: –ó–∞–ø—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä—ã–Ω–∫–∞
    HC->>MC: –í–æ–∑–≤—Ä–∞—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
    MC->>MC: –ó–∞–ø—É—Å–∫ ML –ò–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
    MC->>HC: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
    HC->>SOE: –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ ChaseLimit
    SOE->>E: API –≤—ã–∑–æ–≤ –æ—Ä–¥–µ—Ä–∞
    E->>SOE: –û—Ç—á–µ—Ç –æ–± –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏
    SOE->>HC: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```
